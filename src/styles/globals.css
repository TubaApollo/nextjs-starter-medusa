@tailwind base;
@tailwind components;
@tailwind utilities;

/* Hide scrollbars while keeping scroll behavior */
.no-scrollbar {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
.no-scrollbar::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Alias: some components expect `scrollbar-hide` */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

@layer utilities {
  /* Custom scrollbar styles */
  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  /* Search dropdown scrollbar */
  .search-dropdown-scroll::-webkit-scrollbar {
    width: 6px;
  }

  .search-dropdown-scroll::-webkit-scrollbar-track {
    background: #f3f4f6;
    border-radius: 3px;
    margin: 4px 0;
  }

  .search-dropdown-scroll::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 3px;
    transition: background-color 0.2s ease;
  }

  .search-dropdown-scroll::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
  }

  .search-dropdown-scroll {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db #f3f4f6;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #d1d5db; /* gray-300 */
    border-radius: 4px;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: #4b5563; /* gray-600 */
  }

  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #d1d5db transparent; /* thumb and track */
  }

  .dark .scrollbar-thin {
    scrollbar-color: #4b5563 transparent;
  }

  /* Chrome, Safari and Opera */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar::-webkit-scrollbar-track {
    background-color: transparent;
  }

  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }

  input:focus ~ label,
  input:not(:placeholder-shown) ~ label {
    @apply -translate-y-2 text-xsmall-regular;
  }

  input:focus ~ label {
    @apply left-0;
  }

  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  textarea:-webkit-autofill,
  textarea:-webkit-autofill:hover,
  textarea:-webkit-autofill:focus,
  select:-webkit-autofill,
  select:-webkit-autofill:hover,
  select:-webkit-autofill:focus {
    border: 1px solid #212121;
    -webkit-text-fill-color: #212121;
    -webkit-box-shadow: 0 0 0px 1000px #fff inset;
    transition: background-color 5000s ease-in-out 0s;
  }

  input[type="search"]::-webkit-search-decoration,
  input[type="search"]::-webkit-search-cancel-button,
  input[type="search"]::-webkit-search-results-button,
  input[type="search"]::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* Mobile search input improvements */
  input[type="search"] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }

  /* Improve touch targets on mobile */
  @media (max-width: 768px) {
    .touch-manipulation {
      touch-action: manipulation;
      -webkit-touch-callout: none;
      -webkit-user-select: none;
      -khtml-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }
    
    input[type="search"].touch-manipulation {
      -webkit-user-select: text;
      -khtml-user-select: text;
      -moz-user-select: text;
      -ms-user-select: text;
      user-select: text;
    }
  }
}

@layer components {
  .content-container {
    @apply max-w-[1440px] w-full mx-auto px-6;
  }

  .contrast-btn {
    @apply px-4 py-2 border border-black rounded-full hover:bg-black hover:text-white transition-colors duration-200 ease-in;
  }

  .text-xsmall-regular {
    @apply text-[10px] leading-4 font-normal;
  }

  .text-small-regular {
    @apply text-xs leading-5 font-normal;
  }

  .text-small-semi {
    @apply text-xs leading-5 font-semibold;
  }

  .text-base-regular {
    @apply text-sm leading-6 font-normal;
  }

  .text-base-semi {
    @apply text-sm leading-6 font-semibold;
  }

  .text-large-regular {
    @apply text-base leading-6 font-normal;
  }

  .text-large-semi {
    @apply text-base leading-6 font-semibold;
  }

  .text-xl-regular {
    @apply text-2xl leading-[36px] font-normal;
  }

  .text-xl-semi {
    @apply text-2xl leading-[36px] font-semibold;
  }

  .text-2xl-regular {
    @apply text-[30px] leading-[48px] font-normal;
  }

  .text-2xl-semi {
    @apply text-[30px] leading-[48px] font-semibold;
  }

  .text-3xl-regular {
    @apply text-[32px] leading-[44px] font-normal;
  }

  .text-3xl-semi {
    @apply text-[32px] leading-[44px] font-semibold;
  }
}

body {
  @apply font-sans;
}

@layer components {
  /* Custom Components from your design system */
  .btn-primary {
    @apply bg-industrial-red text-white py-3 px-6 rounded-md font-medium transition-all duration-200 ease-in-out border-none;
  }

  .btn-primary:hover {
    @apply bg-industrial-red-dark -translate-y-px shadow-md;
  }

  .btn-secondary {
    @apply bg-transparent text-steel-gray border-2 border-metal-silver py-3 px-6 rounded-md font-medium transition-all duration-200 ease-in-out;
  }

  .btn-secondary:hover {
    @apply border-industrial-red text-industrial-red;
  }

  .card {
    @apply bg-white rounded-lg shadow-sm p-6 transition-all duration-200 ease-in-out border border-metal-silver;
  }

  .card:hover {
    @apply shadow-md -translate-y-0.5;
  }

  .input {
    @apply border-2 border-metal-silver rounded-md py-3 px-4 text-base transition-all duration-200 ease-in-out bg-white;
  }

  .input:focus {
    @apply border-industrial-red outline-none shadow-industrial-red-light; /* Using a custom shadow utility for focus */
  }
}

/* Swiper pagination theming */
.swiper-pagination-bullet {
  background: rgba(255, 255, 255, 0.6);
  opacity: 1;
  transition: width 200ms ease, background-color 200ms ease, transform 200ms ease;
}
.swiper-pagination-bullet:hover {
  transform: scale(1.1);
}
.swiper-pagination-bullet-active {
  background: linear-gradient(90deg, #ef4444, #f87171);
  width: 18px;
  border-radius: 9999px;
  box-shadow: 0 4px 10px rgba(239, 68, 68, 0.35);
}

/* Product rail scope */
.product-rail .swiper-pagination {
  position: static !important; /* Place dots below the slider, not overlayed */
  margin-top: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
}
.product-rail .swiper-pagination-bullet {
  width: 8px;
  height: 8px;
  background: rgba(15, 23, 42, 0.35);
  opacity: 1;
  transition: width 220ms ease, background-color 220ms ease, transform 220ms ease;
}
.product-rail .swiper-pagination-bullet-active {
  background: linear-gradient(90deg, #ef4444, #f87171);
}
.product-rail .swiper-pagination-bullet-active-main {
  width: 22px;
  border-radius: 9999px;
  background: linear-gradient(90deg, #ef4444, #f87171);
  box-shadow: 0 4px 10px rgba(239, 68, 68, 0.25);
}

/* Hero scope */
.hero-swiper .swiper-pagination {
  bottom: 12px !important;
}
.hero-swiper .swiper-pagination-bullet {
  background: rgba(255, 255, 255, 0.5);
}
.hero-swiper .swiper-pagination-bullet-active {
  background: linear-gradient(90deg, #ef4444, #f87171);
}

/* Hide default Swiper arrow elements (we use custom buttons) */
.swiper-button-next,
.swiper-button-prev {
  display: none !important;
}
